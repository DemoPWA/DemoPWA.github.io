<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width, initial-scale=1">
<!--   <META HTTP-EQUIV='Content-Security-Policy' CONTENT="worker-src https://demopwa.github.io/;script-src 'self' https://*.googleapis.com/"> -->
  <title>Simple Push Demo</title><meta name=theme-color content=#2e3aa1>
  <link rel=manifest href=./manifest2.json>
 
</script>
  <link rel="shortcut icon" href=./images/logo-32x32.png>
  <link rel=stylesheet href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel=stylesheet href=https://storage.googleapis.com/code.getmdl.io/1.0.6/material.indigo-pink.min.css>
  <script src=https://storage.googleapis.com/code.getmdl.io/1.0.6/material.min.js></script>
  <link rel=stylesheet href=./styles/main.css></head>
<body><div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
  <header class=mdl-layout__header><div class=mdl-layout__header-row><span class=mdl-layout-title>SW XSS Demo</span><div class=mdl-layout-spacer></div>
   </div></header>
    <main>
	Please note the host parameter in the URL query string. It can be set to 'https://gauntface.github.io/simple-push-demo' to perform XSS attack. 
	Check Console Logs to know if XSS attack was success    
    </main>
  </script>
	<script type='text/javascript'>
	function register_sw(){
		// /xssdemo/SW_XSS/

		navigator.serviceWorker.register('./SW_XSS.js'+window.location.search).then(function(registration) {
			console.log('Service worker registration succeeded:', registration);
		  }, /*catch*/ function(error) {
			console.log('Service worker registration failed:', error);
		  });
		navigator.serviceWorker.addEventListener('controllerchange', () => {
			console.log('controller changed from page!!')
			console.log(`This page is currently controlled by: ${navigator.serviceWorker.controller}`);
		});
		if ('serviceWorker' in navigator) {
		  // Do a one-off check to see if a service worker's in control.
		  if (navigator.serviceWorker.controller) {
			console.log(`This page is currently controlled by: ${navigator.serviceWorker.controller}`);
		  } else {
			console.log('This page is not currently controlled by a service worker.');
		  }
		} else {
		  console.log('Service workers are not supported.');
		}
				
	}
    register_sw()
    </script></body></html>
